# Development Environment Configuration for WhatsApp RAG
# Copy this file to .env and configure with your development values

# =============================================================================
# API CONFIGURATION
# =============================================================================

# GitHub Token for API access (REQUIRED)
# Get token from: https://github.com/settings/tokens
OPENAI_API_KEY=your_github_token_here
GITHUB_TOKEN=your_github_token_here

# Model Configuration
MODEL_NAME=gpt-4o-mini
OPENAI_API_BASE=https://models.inference.ai.azure.com
GH_MODELS_BASE_URL=https://models.github.ai/inference

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Server Configuration
HOST=127.0.0.1
PORT=7860
GRADIO_SERVER_NAME=127.0.0.1
GRADIO_SERVER_PORT=7860

# Development Features
GRADIO_DEBUG=true
GRADIO_SHARE=false
GRADIO_RELOAD=true

# No authentication in development (optional)
GRADIO_USERNAME=
GRADIO_PASSWORD=

# Rate Limiting (relaxed for development)
MAX_REQUESTS_PER_MINUTE=100
MAX_CONCURRENT_REQUESTS=10
MAX_FILE_SIZE_MB=50

# =============================================================================
# LOGGING AND MONITORING
# =============================================================================

# Logging Level (DEBUG for development)
LOG_LEVEL=DEBUG
LOG_FORMAT=text

# Enable detailed logging for development
TRACK_QUERY_PERFORMANCE=true
TRACK_EMBEDDING_PERFORMANCE=true
LOG_INCLUDE_TRACE_ID=true

# Metrics (optional in development)
ENABLE_METRICS=false
METRICS_PORT=9090

# =============================================================================
# PERFORMANCE AND CACHING
# =============================================================================

# Cache Configuration (simpler for development)
ENABLE_CACHE=true
CACHE_TYPE=memory
CACHE_TTL=1800
CACHE_MAX_SIZE=100

# Performance (adjusted for development)
MAX_WORKERS=2
CHUNK_PROCESSING_BATCH_SIZE=50
EMBEDDING_BATCH_SIZE=16
EMBEDDING_CACHE_SIZE=200

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================

# Local Storage
DATA_DIRECTORY=./data
INDEX_DIRECTORY=./indices
CACHE_DIRECTORY=./cache

# No cloud storage in development
S3_BUCKET=
DATABASE_URL=

# =============================================================================
# RAG SYSTEM CONFIGURATION
# =============================================================================

# Embedding Model (smaller for development)
EMBEDDING_MODEL=sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
EMBEDDING_DEVICE=cpu

# Text Processing
CHUNK_SIZE=500
CHUNK_OVERLAP=100
MAX_CONTEXT_LENGTH=3000

# Retrieval (faster for development)
DEFAULT_TOP_K=3
SIMILARITY_THRESHOLD=0.6
USE_MMR_BY_DEFAULT=true
MMR_LAMBDA=0.5
DEFAULT_FETCH_K=15

# Vector Store
VECTOR_STORE_TYPE=faiss
INDEX_TYPE=IndexFlatIP

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Relaxed security for development
ANONYMIZE_USERS=false
ANONYMIZE_PHONE_NUMBERS=false
FILTER_SENSITIVE_INFO=false
REDACT_PHONE_NUMBERS=false
REDACT_EMAILS=false

# Content Filtering (optional in dev)
ENABLE_CONTENT_FILTER=false
MAX_MESSAGE_LENGTH=50000

# =============================================================================
# DEVELOPMENT SPECIFIC
# =============================================================================

# Environment
ENVIRONMENT=development
DEPLOYMENT_TYPE=development

# Development flags
DEBUG=true
TESTING=false

# Fast startup (disable some checks)
HEALTH_CHECK_ENABLED=false

# Quick shutdown
GRACEFUL_SHUTDOWN_TIMEOUT=5

# =============================================================================
# OPTIONAL INTEGRATIONS (disabled for development)
# =============================================================================

# Error Tracking
SENTRY_DSN=
ALERT_ON_ERRORS=false

# APM
NEW_RELIC_LICENSE_KEY=
DATADOG_API_KEY=

# Backups (not needed in development)
ENABLE_BACKUPS=false

# =============================================================================
# LOCAL DEVELOPMENT HELPERS
# =============================================================================

# Auto-reload on file changes (if supported)
AUTO_RELOAD=true

# Show more detailed error messages
SHOW_ERROR_DETAILS=true

# Skip some validation for faster startup
SKIP_VALIDATION=true

# Use sample data by default
USE_SAMPLE_DATA=true

# Enable development endpoints
ENABLE_DEV_ENDPOINTS=true

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================

# Test data paths
TEST_DATA_DIR=./data/test
TEST_OUTPUT_DIR=./test_output

# Test flags (set to true when running tests)
RUNNING_TESTS=false
TEST_MODE=false

# Mock external services in tests
MOCK_OPENAI_API=false
MOCK_EMBEDDINGS=false

# =============================================================================
# NOTES FOR DEVELOPMENT
# =============================================================================

# 1. Replace 'your_github_token_here' with your actual GitHub token
# 2. GitHub token needs 'public_repo' scope at minimum
# 3. For local development, you can use http://localhost:7860
# 4. Set GRADIO_SHARE=true if you want to share with others temporarily
# 5. Keep sensitive tokens out of version control
# 6. Use .env.local for personal overrides not in version control

# =============================================================================
# QUICK START CHECKLIST
# =============================================================================

# [ ] Get GitHub token from https://github.com/settings/tokens
# [ ] Replace OPENAI_API_KEY and GITHUB_TOKEN values above
# [ ] Copy this file to .env in the root directory
# [ ] Run: pip install -r requirements.txt
# [ ] Run: python app.py
# [ ] Open: http://localhost:7860